{
  "hash": "575cc0094822348482a49ec92824d836",
  "result": {
    "engine": "knitr",
    "markdown": "\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nCompiled on 27/08/2025, 11:38\n```\n\n\n:::\n:::\n\n\n<!-- Logo in the title -->\n\n<style>\n/* Make the title line a flex row with the logo on the left */\n.title-with-logo {\n  display: flex;\n  align-items: center;\n  gap: 14px;              /* spacing between logo and text */\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n}\n.title-with-logo img {\n  width: 120px;           /* adjust logo size as needed */\n  height: auto;\n}\n</style>\n\n<script>\n// Wrap the H1.title with a container and prepend the logo to its left\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  // find the auto-generated title element\n  var h1 = document.querySelector(\"h1.title\");\n  if(!h1) return;\n\n  // create wrapper\n  var wrap = document.createElement(\"div\");\n  wrap.className = \"title-with-logo\";\n\n  // create logo\n  var img = document.createElement(\"img\");\n  img.src = \"pics/SeaWiseFinal-01.png\";   // relative path from Rmd root\n  img.alt = \"SEAwise logo\";\n\n  // insert: wrap replaces h1, then put logo + h1 inside wrap\n  h1.parentNode.insertBefore(wrap, h1);\n  wrap.appendChild(img);\n  wrap.appendChild(h1);\n});\n</script>\n\n<!-- Links -->\n\n<div id=\"header-links\">\n  <a href=\"https://seawiseproject.org/\" target=\"_blank\">\n    <img src=\"pics/SeaWiseFinal-01.png\" width=\"20\"  height=\"22\" style=\"margin-right:6px; vertical-align:middle;\">\n    SEAwise Website\n  </a>\n  <a href=\"https://github.com/COISPA/litter\" target=\"_blank\">\n    <img src=\"pics/github.svg\" width=\"20\" height=\"22\" style=\"margin-right:6px; vertical-align:middle;\">\n    COISPA Github\n  </a>\n</div>\n\n<!-- start of the script -->\n\n\n# Litter modelling & risk analysis <img src=\"pics/SeaWiseFinal-01.png\" alt=\"SEAwise logo\" width=\"90\" align=\"left\"/>\n\nTools to model marine litter distributions from survey data and to perform a risk analysis to estimate impact maps.\n\n### **M. T. Spedicato, W. Zupa**\n\n\n<a href=\"https://seawiseproject.org/\" target=\"_blank\"> <img src=\"pics/SeaWiseFinal-01.png\" width=\"20\" height=\"22\" style=\"margin-right:6px; vertical-align:middle;\"/> SEAwise Website </a> <a href=\"https://github.com/COISPA/litter\" target=\"_blank\"> <img src=\"pics/github.svg\" width=\"20\" height=\"22\" style=\"margin-right:6px; vertical-align:middle;\"/> COISPA Github </a>\n\n\n## Repository layout\n\n-   **00_data_preparation.r** – prepares raw data in MEDITS format for the litter distributiojn modelling analiysis and for the risk analysis.\\\n    The R script:\n\n    -   reads TA (halus) and TL (litter) tables, filters years, converts MEDITS coordinates to decimal degrees with `BioIndex::MEDITS.to.dd()`; computes mean haul coordinates, swept area, and mean depth; builds unique haul IDs and a continuous time variable `ctime` (year + day-of-year/365).\n    -   derives post-classification fields on TL (e.g., SUP, FR and ING catecories), ready for later aggregation. The output path is set to `input/` under the root directory, further used as source folder of data for the analysis.\n\n-   **01_Litter_analysis\\_(GAM_analysis).Rmd** – litter spatial distribution modelling (R Markdown style).\\\n    The Rmd file:\n\n    -   defines user parameters (years `ys`, `AREA`, litter `category`, response index, bootstrap settings, reference month), paths (`data_dir`, `resdir`), and grid file.\n    -   loads the observation table, constructs `ctime`, loads and expands the prediction grid across years/month, and attaches constant swept area to allow effort-scaled predictions.\n    -   fits three candidate GAM models, using Tweedie families for continuous indices and binomial-logit for presence/absence, with REML and `gamma = 1.4`. Saves model objects, summaries, spline plots, grid predictions and bootstrap time-series (means, 95% CI, CV).\n\n-   **02_Risk_analysis.Rmd** – risk analysis and fleet impact.\\\n    The Rmd file:\n\n    -   loads the litter prediction file produced by the modelling step for the chosen category/response and restricts to selected years/area; merges with the grid and aggregates to per-cell means.\n    -   computes species indices (files listed in `species_files`) and a multi-species index `SP` (sum of rescaled species, then rescaled to 0–1).\n    -   derives Hazard classes from litter quantiles (default thresholds at 33rd/66th percentiles), plots a hazard map.\n    -   converts `SP` to percentiles, combines with Hazard to assign exposure risk (Low/Medium/High), and plots the map.\n    -   maps **fleet-specific Impact** by translating Exposure via a gear-impact table (e.g., Low/Medium/High fleets) and plotting per-fleet impact categories.\n\n## Inputs\n\n-   **TA / TL raw tables** (MEDITS format), used in data preparation.\n-   **Prediction grid** CSV (e.g., `grid_0.05_(0-800m)_GSA_csquare.csv`).\n-   **Species rasters/tables** for abundance (e.g., `HKE_GSA18_(abundance)_0.05.csv`, `MUT_...`), specified via `species_files` / `species_names`.\n\n## Dependencies\n\n-   **Data prep:** `BioIndex`, `lubridate`, `dplyr`.\n-   **Modelling:** `mgcv`, `mgcViz`, `MASS`, `dplyr`, `ggplot2`, `sf`, `rnaturalearth`, plus base plotting; Tweedie family used for continuous responses.\n-   **Risk mapping:** `ggplot2`, `raster`, `dplyr`, `tidyr`, `maps`.\n\nInstall in R (example):\n\n``` r\ninstall.packages(c(\n  \"BioIndex\",\"lubridate\",\"dplyr\",\"mgcv\",\"mgcViz\",\"MASS\",\n  \"ggplot2\",\"sf\",\"rnaturalearth\",\"rnaturalearthdata\",\"raster\",\"tidyr\",\"maps\"\n))\n```\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}